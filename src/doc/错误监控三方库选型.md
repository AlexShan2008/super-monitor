# 前端监控技术解决方案——调研报告
> 思考： 
> 1. 什么项目是好的前端项目？
> 2. 前端监控内容有哪些？

## **1. 监控分类**
### 1.1 技术监控

**1.1.1 性能监控**
> 页面加载时长；
> 首屏加载时间；

**1.1.2 资源监控**
> `CSS` \ `JavaScript` \ `image` \ `video`

**1.1.3 错误监控**
> `http`链接 

> `JavaScript`执行错误

**1.1.4 接口性能**
> `Ajax` 

### 1.2 行为监控

**1.2.1 用户行为路径**
> 记录用户关键行为：

- 购买行为：Alipay、WeChat、ApplePay、PayPal等

- 核心功能：了解用户行为，根据用户点击行为进行二次开发

**1.2.2 打点监控**
> 监控页面功能用户使用的频次；

> 通过数据决定页面布局；

**1.2.3 大量`log`上报策略**
> 必须对数据进行筛选，不应该全部上传；

> 前端随机选择数据，但是后端可以更加配置文件更改配置项；

### **前端监控的意义：** *提升用户体验*
1. 自动监控（24小时不间断）；
2. 错误警告（自动报警）；
2. 快速定位问题（第一时间发现问题）；
3. 性能优化依据（网络、程序）；
4. 还原案发现场（错误代码定位）；
5. 用户行为分析（深度学习及优化）


## **2. 方案对比：**

1. [Sentry](#Sentry)
2. [ARMS](#ARMS)
3. [Fundebug](#Fundebug)
4. [Badjs](#Badjs)
5. [eagle-monitor](#eagle-monitor)

###  **2.1 功能对比**

|  名称 | 错误监控 | 资源监控 | 性能监控 | 行为监控 |自动报警| 源码定位 |
|  - | :-: | :-: | :-: | :-: | :-:| :-:|
| `Sentry` | √ | √ | `x` | √ | √ |  √ | 
| `Fundebug` | √ | √ | `x` | √ | √ |  √ | 
| `ARMS` | √ | √ | √ | √ | √ |  √ | 
| `Badjs` | √ | √ | √ | √ | √ |  √ | 
| `eagle-monitor` | √ | √ | √ | √ | √ |  √ | 

### **2.2 价格对比**
|  名称 | 收费标准 | 
|  - | :-: | 
| `Sentry` | [https://sentry.io/pricing/](https://sentry.io/pricing/) |
| `ARMS` |[https://www.aliyun.com/price/](https://www.aliyun.com/price/product?spm=5176.8140086.836630.bt3.40657ed26f8Ijr#/arms/detail) | 
| `Fundebug` |[https://www.fundebug.com/price](https://www.fundebug.com/price) | 
| `Badjs` | 开源（二次开发成本） | 
| `eagle-monitor` | 开源（二次开发成本） | 


## Sentry

## ARMS

## Fundebug

## Badjs

## eagle-monitor


## **3. 解决方案**

### 2.1 数据收集；client
### 2.2 数据统计；server 去掉极端数据；
### 2.3 数据分析；server
### 2.4 数据反馈；server: `Email Message`
### 2.5 数据展示；client: website


## 参考资源：
1. [Sentry](https://sentry.io/for/javascript/)
2. [ARMS](https://www.aliyun.com/product/arms?spm=a2c4e.11153940.blogcont194326.18.41d92cb9SCd2zD)
3. [Fundebug](https://www.fundebug.com/)
4. [Badjs](http://slides.com/loskael/badjs/fullscreen#/)
5. [eagle-monitor](https://github.com/geeknull/eagle-monitor)